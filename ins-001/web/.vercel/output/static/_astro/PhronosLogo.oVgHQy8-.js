import{j as m}from"./jsx-runtime.D_zvdyIk.js";import{r as l}from"./index.WFquGv8Z.js";const g={light:{ink:"#1A1A1A",gold:"#B08D55",goldDim:"rgba(176, 141, 85, 0.4)"},dark:{ink:"#E5E5E5",gold:"#B08D55",goldDim:"rgba(176, 141, 85, 0.4)"}},p=.45,u=400;class x{canvas;ctx;size;scale;dpr;rotation=0;animationId=null;lastTime=0;theme;constructor(s,t={}){this.canvas=s,this.size=t.size||s.width||31,this.scale=this.size/31,this.theme=t.theme||"dark",this.dpr=window.devicePixelRatio||1,s.width=this.size*this.dpr,s.height=this.size*this.dpr,s.style.width=`${this.size}px`,s.style.height=`${this.size}px`,this.ctx=s.getContext("2d"),this.ctx.scale(this.dpr,this.dpr)}get colors(){return g[this.theme]}scaled(s){return s*this.scale}draw(s=0){const t=this.ctx,e=this.size/2,a=this.size/2,i=this.colors;t.clearRect(0,0,this.size,this.size),this.rotation+=p*s,t.save(),t.translate(e,a),t.rotate(this.rotation);const n=this.scaled(11.2);t.beginPath(),t.arc(0,0,n,.3,Math.PI*1.9),t.strokeStyle=i.ink,t.lineWidth=this.scaled(2.7),t.lineCap="round",t.stroke();const r=Math.PI*1.9,o=Math.cos(r)*n,c=Math.sin(r)*n;t.beginPath(),t.arc(o,c,this.scaled(3.25),0,Math.PI*2),t.fillStyle=i.ink,t.fill(),t.beginPath(),t.arc(o,c,this.scaled(1.2),0,Math.PI*2),t.fillStyle=i.gold,t.fill(),t.restore();const d=(Math.sin(Date.now()/u)+1)/2;t.beginPath(),t.arc(e,a,this.scaled(3.25)+d*this.scaled(1.6),0,Math.PI*2),t.strokeStyle=i.goldDim,t.lineWidth=this.scaled(1.2),t.stroke(),t.beginPath(),t.arc(e,a,this.scaled(1.6),0,Math.PI*2),t.fillStyle=i.gold,t.fill()}animate(s=0){const t=this.lastTime?(s-this.lastTime)/1e3:0;this.lastTime=s,this.draw(t),this.animationId=requestAnimationFrame(e=>this.animate(e))}start(){this.animationId||this.animate()}stop(){this.animationId&&(cancelAnimationFrame(this.animationId),this.animationId=null)}resize(s){this.size=s,this.scale=s/31,this.canvas.width=s*this.dpr,this.canvas.height=s*this.dpr,this.canvas.style.width=`${s}px`,this.canvas.style.height=`${s}px`,this.ctx.scale(this.dpr,this.dpr)}}const k=({size:h=31,theme:s="dark"})=>{const t=l.useRef(null),e=l.useRef(null);return l.useEffect(()=>{const a=t.current;if(!a)return;const i=new x(a,{size:h,theme:s});return i.start(),e.current=i,()=>{i.stop(),e.current=null}},[h,s]),m.jsx("canvas",{ref:t,style:{display:"block",width:`${h}px`,height:`${h}px`,flexShrink:0},"aria-label":"Phronos Logo"})};export{k as PhronosLogo};
