import{j as p}from"./jsx-runtime.D_zvdyIk.js";import{r as t}from"./index.WFquGv8Z.js";import{s as o}from"./supabase.DFNfmv87.js";const a=t.createContext({session:null,user:null,loading:!0});function S({children:i}){const[l,s]=t.useState(null),[c,u]=t.useState(null),[f,n]=t.useState(!0);return t.useEffect(()=>{o.auth.getSession().then(({data:{session:e}})=>{s(e),u(e?.user??null),n(!1)});const{data:{subscription:h}}=o.auth.onAuthStateChange((e,r)=>{s(r),u(r?.user??null),n(!1)});return()=>h.unsubscribe()},[]),p.jsx(a.Provider,{value:{session:l,user:c,loading:f},children:i})}function g(){return t.useContext(a)}export{S as A,g as u};
