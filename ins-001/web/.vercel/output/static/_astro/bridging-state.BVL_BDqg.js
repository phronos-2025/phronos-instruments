import{j as t}from"./jsx-runtime.D_zvdyIk.js";import{r as n}from"./index.WFquGv8Z.js";function g(r,e){switch(e.type){case"BEGIN":return{screen:"anchor-target"};case"BACK":return r.screen==="steps"?{screen:"anchor-target"}:r.screen==="share"?{screen:"steps",gameId:r.gameId,anchor:r.anchor,target:r.target}:r.screen==="anchor-target"?{screen:"intro"}:r;case"ANCHOR_TARGET_SET":return{screen:"anchor-target",anchor:e.anchor,target:e.target};case"GAME_CREATED":return{screen:"steps",gameId:e.gameId,anchor:e.anchor,target:e.target};case"STEPS_SUBMITTED":return r.screen==="steps"?{screen:"share",gameId:e.gameId,anchor:r.anchor,target:r.target,steps:e.steps,divergence:e.divergence,shareCode:e.shareCode}:r;case"GAME_COMPLETED":return{screen:"results",game:e.game};case"RESET":return{screen:"anchor-target"};default:return r}}function d(r,e){switch(e.type){case"GAME_LOADED_V2":return{screen:"build-bridge",gameId:e.gameId,anchor:e.anchor,target:e.target,senderStepCount:e.senderStepCount};case"ERROR":return{screen:"error",message:e.message};case"BRIDGE_SUBMITTED":return r.screen==="build-bridge"?{screen:"comparison",gameId:r.gameId,anchor:r.anchor,target:r.target,senderSteps:e.senderSteps,senderRelevance:e.senderRelevance,senderDivergence:e.senderDivergence,recipientSteps:e.recipientSteps,recipientRelevance:e.recipientRelevance,recipientDivergence:e.recipientDivergence,bridgeSimilarity:e.bridgeSimilarity,centroidSimilarity:e.centroidSimilarity,pathAlignment:e.pathAlignment,haikuClues:e.haikuClues,haikuRelevance:e.haikuRelevance,haikuDivergence:e.haikuDivergence,lexicalBridge:e.lexicalBridge,lexicalRelevance:e.lexicalRelevance,lexicalDivergence:e.lexicalDivergence}:r;case"RESET":return{screen:"loading"};default:return r}}const s=n.createContext(void 0),c=n.createContext(void 0);function o({children:r}){const[e,i]=n.useReducer(g,{screen:"intro"});return t.jsx(s.Provider,{value:{state:e,dispatch:i},children:r})}function h({children:r}){const[e,i]=n.useReducer(d,{screen:"loading"});return t.jsx(c.Provider,{value:{state:e,dispatch:i},children:r})}function l(){const r=n.useContext(s);if(!r)throw new Error("useBridgingSenderState must be used within BridgingSenderProvider");return r}function p(){const r=n.useContext(c);if(!r)throw new Error("useBridgingRecipientState must be used within BridgingRecipientProvider");return r}export{h as B,l as a,o as b,p as u};
